<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />

    <title>About</title>

    <script src="../js/jqtouch/jquery.1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jqtouch/jqtouch.js" type="text/javascript" charset="utf-8"></script>
    <style type="text/css" media="screen">@import "js/jqtouch/jqtouch.css";</style>
    <style type="text/css" media="screen">@import "js/themes/jqt/theme.css";</style>

    <script type="text/javascript">
      var request = false;

      var jQT = new $.jQTouch({
        icon: 'js/custom/app_icon.png',
        statusBar: 'black-translucent',
        startupScreen: 'js/custom/app_startup.png',
        //slideInSelector: 'ul li a[href^=#]',
        preloadImages: [
            'js/themes/apple/img/chevron.png',
            'js/themes/apple/img/backButton.png',
            'js/themes/apple/img/blueButton.png'
            ]
      });

        // Some sample Javascript functions:
        $(function(){

            $('#addWallet').click(function() {
                confirm('Added');
            });
        });

        function addToWallet(resource, url) {
          request = new XMLHttpRequest();
          if(!request) alert("Failure creating XMLHttpRequest-Object");
          request.open('post', url, true);
          request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
          request.send('resource='+resource);
          //while(request.readyState != 4); //console.log("request.readyState = " + request.readyState);
          request.onreadystatechange = function() {
            if(request.readyState == 4) { // Request is finished
              if(request.status == 200) {
                alert("Adding resource to wallet sucsessful");
              } else if ((request.status == 409) {
                alert("Resource (or any subresource) already in your wallet");
              } else {
                alert("Something unexpected happend. Statuscode: " + request.status);
            }
        }
    </script>
  </head>


  <body>
 <div id="demolist">
        <div class="toolbar">
            <h1>Root</h1>
            <a class="back button" href="#">Back</a>
        </div>
        <h4>Options</h4>
        <ul>
            <li><a href="#item1">Item 1</a><img onclick="addToWallet('Eins', '123/wallet')" src="js/custom/plusButton.png"/></li>
            <li><a href="#item2">Item 2</a><img onclick="addToWallet('Zwei', '123/wallet')" src="js/custom/plusButton.png"/></li>
            <li><a href="#item3">Item 3</a></li>
            <li><a href="about2">About2</a></li>
        </ul>
</div>

 <div id="item1">
        <div class="toolbar">
            <h1>Item 1 - Sub</h1>
            <a class="back button" href="#">Back</a>
        </div>
        <ul>
            <li><a href="#item1.1">Item 1.1</a></li>
            <li><a href="#item1.2">Item 1.2</a></li>
            <li><a href="#item1.3">Item 1.3</a></li>
        </ul>
</div>

 <div id="item2">
        <div class="toolbar">
            <h1>Item 2 - Sub</h1>
            <a class="back button" href="#">Back</a>
        </div>
        <ul>
            <li><a href="#item2.1">Item 2.1</a></li>
            <li><a href="#item2.2">Item 2.2</a></li>
            <li><a href="#item2.3">Item 2.3</a></li>
        </ul>
</div>
 <div id="item3">
        <div class="toolbar">
            <h1>Item 2 - Sub</h1>
            <a class="back button" href="#">Back</a>
        </div>
        <ul>
            <li><a href="#item3.1">Item 3.1</a></li>
            <li><a href="#item3.2">Item 3.2</a></li>
            <li><a href="#item3.3">Item 3.3</a></li>
        </ul>
</div>  </body>
</html>
