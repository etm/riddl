<?xml version="1.0"?>

<interface  xmlns="http://rescue.org/ns/group/0.2"
            xmlns:rng="http://relaxng.org/ns/structure/1.0">
  <properties>
<!-- {{{ -->
    <rng:element name="longitude">
      <caption lang="en">Longitude</caption>
      <caption lang="de">LÃ¤ngengrad</caption>
      <rng:data type="positiveInteger"/>
    </rng:element>
    <rng:element name="latitude">
      <caption lang="en">Latitude</caption>
      <caption lang="de">Breitengrad</caption>
      <rng:data type="positiveInteger"/>
    </rng:element>
<!-- }}} -->
  </properties>
  <operations>
<!-- {{{ -->
    <operation name="search" short="search for movies">
      <execute name="query" request="multiple"/>
    </operation>
    <operation name="book" short="book tickets">
      <execute name="invoke" request="particular" key="show-id">
        <selection>
          <key query-name="show-id" invoke-name="show-id"/>
          <execute name="query" request="multiple"/>
        </selection>
      </execute>
    </operation>
    <operation name="cancel" short="cancel reservation">
      <execute name="undo" request="particular"/>
    </operation>
<!-- }}} -->
  <operations>
  <methods>
    <method name="query">
<!-- {{{ -->
      <input-message>
        <rng:element name="title">
          <caption lang="en">Title</caption>
          <caption lang="de">Titel</caption>
          <rng:data type="string"/>
        </rng:element>
        <rng:element name="date">
          <caption lang="en">Date</caption>
          <caption lang="de">Datum</caption>
          <rng:data type="date"/>
        </rng:element>
        <rng:element name="preferred-time">
          <caption lang="en">preferred time</caption>
          <caption lang="de">bevorzugte Zeit</caption>
          <rng:data type="time"/>
        </rng:element>
      </input-message>
      <output-message type="list" item-name="show">
        <rng:element name="movie-title">
          <caption lang="en">Movietitle</caption>
          <caption lang="de">Filmtitel</caption>
          <rng:data type="string"/>
        </rng:element>
        <rng:element name="show-id" hidden="true" key="true">
          <caption lang="en">ShowID</caption>
          <caption lang="de">VorstellungsID</caption>
          <rng:data type="string"/>
        </rng:element>
        <rng:element name="starting-time">
          <caption lang="en">Starting time</caption>
          <caption lang="de">Beginzeit</caption>
          <rng:data type="time"/>
        </rng:element>
        <rng:element name="hall">
          <caption lang="en">Hall</caption>
          <caption lang="de">Saal</caption>
          <rng:data type="positiveInteger"/>
        </rng:element>
      </output-message>
    </method>
<!-- }}} -->
    <method name="invoke">
<!-- {{{ -->
      <input-message>
        <rng:element name="show-id" hidden="true">
          <caption lang="en">ShowID</caption>
          <caption lang="de">VorstellungsID</caption>
          <rng:data type="string"/>
        </rng:element>
        <rng:element name="number-of-seats">
          <caption lang="en">Number of seats</caption>
          <caption lang="de">Anzahl Plaetze</caption>
          <rng:data type="positiveInteger"/>
        </rng:element>
        <rng:element name="username">
          <caption lang="en">Username</caption>
          <caption lang="de">Benutzername</caption>
          <rng:data type="string"/>
        </rng:element>
        <rng:element name="password">
          <caption lang="en">Password</caption>
          <caption lang="de">Passwort</caption>
          <rng:data type="string"/>
        </rng:element>
      </input-message>
      <output-message type="single">
        <rng:element name="reservation-id" hidden="true">
          <caption lang="en">Reservation ID</caption>
          <caption lang="de">Reservierungsnummer</caption>
          <rng:data type="string"/>
        </rng:element>
      </output-message>
    </method>
<!-- }}} -->
    <method name="undo">
<!-- {{{ -->
      <input-message>
        <rng:element name="username">
          <caption lang="en">Username</caption>
          <caption lang="de">Benutzername</caption>
          <rng:data type="string"/>
        </rng:element>
        <rng:element name="password">
          <caption lang="en">Password</caption>
          <caption lang="de">Passwort</caption>
          <rng:data type="string"/>
        </rng:element>
        <rng:element name="reservation-id" hidden="true">
          <caption lang="en">ReservationID</caption>
          <caption lang="de">Reservierungsnummer</caption>
          <rng:data type="string"/>
        </rng:element>
      </input-message>
    </method>
 <!-- }}} -->
  </methods>
</interface>

